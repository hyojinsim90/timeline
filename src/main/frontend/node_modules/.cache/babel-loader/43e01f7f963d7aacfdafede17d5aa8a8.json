{"ast":null,"code":"import _slicedToArray from\"C:/dev/springboot/workplace/tiltest3/src/main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"C:/dev/springboot/workplace/tiltest3/src/main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject;import React,{useState,useEffect}from\"react\";import MenuBar from\"./Sections/MenuBar\";import{Row,Col,Card,Button}from\"antd\";import styled from\"styled-components\";import SomeTimeline from\"./Sections/SomeTimeline\";import{useSelector}from\"react-redux\";import Axios from\"axios\";var TimelineDiv=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  padding: 3rem 2rem;\\n  .ant-card {\\n    text-align: left;\\n    margin-bottom: 3rem;\\n    font-size: 17px;\\n    .ant-card-head-title {\\n      font-weight: bold;\\n      font-size: 17px;\\n    }\\n  }\\n\"])));var MyTimeline=function MyTimeline(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),allList=_useState2[0],setAllList=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),list=_useState4[0],setList=_useState4[1];useEffect(function(){if(props.user.userData!==undefined&&props.user.userData.email!==undefined){Axios.get(\"/timeline/master/\".concat(props.user.userData.email)).then(function(res){if(res.data){var latestData=res.data.slice(-3);setAllList(res.data);setList(latestData);}});}},[props.user]);var onMoveToCreate=function onMoveToCreate(){// 타임라인 최대 저장 개수 20개로 제한 => 20개 초과하면 페이지 접근 x\nif(allList.length>19){alert(\"타임라인은 최대 20개까지 작성할 수 있습니다\");}else{props.history.push(\"/createtimeline\");}};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(MenuBar,null),/*#__PURE__*/React.createElement(TimelineDiv,null,/*#__PURE__*/React.createElement(Row,{gutter:16},/*#__PURE__*/React.createElement(Col,{span:24},/*#__PURE__*/React.createElement(Card,{title:\"\\uB0B4 \\uD0C0\\uC784\\uB77C\\uC778\",bordered:false,extra:/*#__PURE__*/React.createElement(Button,{size:\"large\",onClick:onMoveToCreate},\"\\uC0DD\\uC131\\uD558\\uAE30\")},/*#__PURE__*/React.createElement(SomeTimeline,{list:list}))),/*#__PURE__*/React.createElement(Col,{span:24},/*#__PURE__*/React.createElement(Card,{title:\"\\uAD00\\uC2EC \\uD0C0\\uC784\\uB77C\\uC778\",bordered:false},\"\\uAD00\\uC2EC \\uD0C0\\uC784\\uB77C\\uC778\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\")),/*#__PURE__*/React.createElement(Col,{span:24},/*#__PURE__*/React.createElement(Card,{title:\"\\uCD94\\uCC9C \\uD0C0\\uC784\\uB77C\\uC778\",bordered:false},\"\\uCD94\\uCC9C \\uD0C0\\uC784\\uB77C\\uC778\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\")))));};export default MyTimeline;","map":{"version":3,"sources":["C:/dev/springboot/workplace/tiltest3/src/main/frontend/src/components/MyPage/MyTimeline.js"],"names":["React","useState","useEffect","MenuBar","Row","Col","Card","Button","styled","SomeTimeline","useSelector","Axios","TimelineDiv","div","MyTimeline","props","allList","setAllList","list","setList","user","userData","undefined","email","get","then","res","data","latestData","slice","onMoveToCreate","length","alert","history","push"],"mappings":"8XAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,OAAP,KAAoB,oBAApB,CACA,OAASC,GAAT,CAAcC,GAAd,CAAmBC,IAAnB,CAAyBC,MAAzB,KAAuC,MAAvC,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,MAAOC,CAAAA,YAAP,KAAyB,yBAAzB,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,GAAMC,CAAAA,WAAW,CAAGJ,MAAM,CAACK,GAAV,0QAAjB,CAaA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,KAAD,CAAW,CAC5B,cAA8Bd,QAAQ,CAAC,EAAD,CAAtC,wCAAOe,OAAP,eAAgBC,UAAhB,eACA,eAAwBhB,QAAQ,CAAC,EAAD,CAAhC,yCAAOiB,IAAP,eAAaC,OAAb,eAEAjB,SAAS,CAAC,UAAM,CAEd,GAAGa,KAAK,CAACK,IAAN,CAAWC,QAAX,GAAwBC,SAAxB,EAAqCP,KAAK,CAACK,IAAN,CAAWC,QAAX,CAAoBE,KAApB,GAA8BD,SAAtE,CAAiF,CAC/EX,KAAK,CAACa,GAAN,4BAA8BT,KAAK,CAACK,IAAN,CAAWC,QAAX,CAAoBE,KAAlD,GACGE,IADH,CACQ,SAAAC,GAAG,CAAI,CACX,GAAGA,GAAG,CAACC,IAAP,CAAa,CACX,GAAMC,CAAAA,UAAU,CAAGF,GAAG,CAACC,IAAJ,CAASE,KAAT,CAAe,CAAC,CAAhB,CAAnB,CACAZ,UAAU,CAACS,GAAG,CAACC,IAAL,CAAV,CACAR,OAAO,CAACS,UAAD,CAAP,CACD,CACF,CAPH,EAQD,CACF,CAZQ,CAYN,CAACb,KAAK,CAACK,IAAP,CAZM,CAAT,CAcA,GAAMU,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CAC3B;AACA,GAAGd,OAAO,CAACe,MAAR,CAAiB,EAApB,CAAwB,CACtBC,KAAK,CAAC,2BAAD,CAAL,CACD,CAFD,IAEO,CACLjB,KAAK,CAACkB,OAAN,CAAcC,IAAd,CAAmB,iBAAnB,EACD,CACF,CAPD,CASA,mBACE,4CACE,oBAAC,OAAD,MADF,cAEE,oBAAC,WAAD,mBACE,oBAAC,GAAD,EAAK,MAAM,CAAE,EAAb,eACE,oBAAC,GAAD,EAAK,IAAI,CAAE,EAAX,eACE,oBAAC,IAAD,EAAM,KAAK,CAAC,iCAAZ,CAAqB,QAAQ,CAAE,KAA/B,CAAsC,KAAK,cAAE,oBAAC,MAAD,EAAQ,IAAI,CAAC,OAAb,CAAqB,OAAO,CAAEJ,cAA9B,6BAA7C,eACE,oBAAC,YAAD,EAAc,IAAI,CAAEZ,IAApB,EADF,CADF,CADF,cAME,oBAAC,GAAD,EAAK,IAAI,CAAE,EAAX,eACE,oBAAC,IAAD,EAAM,KAAK,CAAC,uCAAZ,CAAsB,QAAQ,CAAE,KAAhC,yEADF,CANF,cAWE,oBAAC,GAAD,EAAK,IAAI,CAAE,EAAX,eACE,oBAAC,IAAD,EAAM,KAAK,CAAC,uCAAZ,CAAsB,QAAQ,CAAE,KAAhC,yEADF,CAXF,CADF,CAFF,CADF,CAwBD,CAnDD,CAqDA,cAAeJ,CAAAA,UAAf","sourcesContent":["import React, { useState, useEffect } from \"react\"\nimport MenuBar from \"./Sections/MenuBar\"\nimport { Row, Col, Card, Button } from \"antd\"\nimport styled from \"styled-components\"\nimport SomeTimeline from \"./Sections/SomeTimeline\"\nimport { useSelector } from \"react-redux\"\nimport Axios from \"axios\"\n\nconst TimelineDiv = styled.div`\n  padding: 3rem 2rem;\n  .ant-card {\n    text-align: left;\n    margin-bottom: 3rem;\n    font-size: 17px;\n    .ant-card-head-title {\n      font-weight: bold;\n      font-size: 17px;\n    }\n  }\n`\n\nconst MyTimeline = (props) => {\n  const [allList, setAllList] = useState([])\n  const [list, setList] = useState([])\n\n  useEffect(() => {\n\n    if(props.user.userData !== undefined && props.user.userData.email !== undefined) {\n      Axios.get(`/timeline/master/${props.user.userData.email}`)\n        .then(res => {\n          if(res.data) {\n            const latestData = res.data.slice(-3)\n            setAllList(res.data)\n            setList(latestData)\n          }\n        })\n    }\n  }, [props.user])\n\n  const onMoveToCreate = () => {\n    // 타임라인 최대 저장 개수 20개로 제한 => 20개 초과하면 페이지 접근 x\n    if(allList.length > 19) {\n      alert(\"타임라인은 최대 20개까지 작성할 수 있습니다\")\n    } else {\n      props.history.push(\"/createtimeline\")\n    }\n  }\n\n  return (\n    <div>\n      <MenuBar />\n      <TimelineDiv>\n        <Row gutter={16}>\n          <Col span={24}>\n            <Card title=\"내 타임라인\" bordered={false} extra={<Button size=\"large\" onClick={onMoveToCreate}>생성하기</Button>}>\n              <SomeTimeline list={list} />\n            </Card>\n          </Col>\n          <Col span={24}>\n            <Card title=\"관심 타임라인\" bordered={false}>\n              관심 타임라인이 없습니다\n            </Card>\n          </Col>\n          <Col span={24}>\n            <Card title=\"추천 타임라인\" bordered={false}>\n              추천 타임라인이 없습니다\n            </Card>\n          </Col>\n        </Row>\n      </TimelineDiv>\n    </div>\n  )\n}\n\nexport default MyTimeline\n"]},"metadata":{},"sourceType":"module"}