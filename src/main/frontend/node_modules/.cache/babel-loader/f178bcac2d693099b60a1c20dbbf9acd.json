{"ast":null,"code":"import _slicedToArray from\"C:/dev/springboot/workplace/tiltest3/src/main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"C:/dev/springboot/workplace/tiltest3/src/main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject;import React,{useState}from\"react\";import{Space,Comment,Tooltip,Rate,List,Input,Button,Divider}from\"antd\";import moment from\"moment\";import styled from\"styled-components\";import Axios from\"axios\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var BottomCommentDiv=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  z-index: 10;\\n  position: relative;\\n  background: white;\\n  .ant-space {\\n    display: flex;\\n    margin-bottom: 18px;\\n    h3 {\\n      margin-bottom: 0;\\n    }\\n    & + div {\\n      display: flex;\\n      button {\\n        height: 98px;\\n        margin-left: 16px;\\n      }\\n    }\\n  }\\n  .ant-comment {\\n    button {\\n      border: none;\\n    }\\n    button:hover, button:focus, button:active, button::after {\\n      outline: none;\\n      border: none;\\n      box-shadow: none !important;\\n      color: black;\\n    }\\n  }\\n  .ant-comment-content-author {\\n    display: flex;\\n    align-items: center;\\n    div {\\n      ul {\\n        margin-left: 10px;\\n      }\\n    }\\n  }\\n  .ant-comment-content-detail {\\n    text-align: left;\\n  }\\n  .ant-comment-actions {\\n    text-align: right;\\n  }\\n\"])));var TextArea=Input.TextArea;var BottomComment=function BottomComment(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];return/*#__PURE__*/_jsxs(BottomCommentDiv,{children:[/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"\\uB313\\uAE00 (\",props.comment.length,\")\"]}),props.hideInput?/*#__PURE__*/_jsx(_Fragment,{}):/*#__PURE__*/_jsx(Rate,{onChange:props.onChangeStar})]}),props.hideInput?/*#__PURE__*/_jsx(_Fragment,{}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(TextArea,{autoSize:{minRows:4,maxRows:4},onChange:props.onChangeCommentContent}),/*#__PURE__*/_jsx(Button,{onClick:props.onSaveComment,children:\"\\uC800\\uC7A5\"})]}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsx(List,{className:\"comment-list\",itemLayout:\"horizontal\",dataSource:props.comment,children:props.comment&&props.comment.map(function(item,i){return/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(Comment,{actions:props.user!==undefined&&props.user.nickname===item.nickname?[/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return props.onModify(i,item.star,item.content);},children:/*#__PURE__*/_jsx(\"span\",{children:\"\\uC218\\uC815\"})}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return props.onDelete(item.content,item.masterId,item.nickname,item.star);},children:/*#__PURE__*/_jsx(\"span\",{children:\"\\uC0AD\\uC81C\"})})]:\"\",author:item.nickname,content:props.modifyStatus&&i===props.modifyIndex?/*#__PURE__*/_jsx(TextArea,{autoSize:{minRows:4,maxRows:4},onChange:props.onChangeCommentContent,value:props.modifyStatus&&i===props.modifyIndex?props.commentContent:item.content}):/*#__PURE__*/_jsx(\"p\",{children:item.content}),datetime:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{children:moment().format('YYYY-MM-DD')}),/*#__PURE__*/_jsx(Rate,{value:props.modifyStatus&&i===props.modifyIndex?props.star:item.star,disabled:props.modifyStatus&&i===props.modifyIndex?false:true,onChange:props.onChangeStar})]})}),/*#__PURE__*/_jsx(Divider,{})]},i);})})]});};export default BottomComment;","map":{"version":3,"sources":["C:/dev/springboot/workplace/tiltest3/src/main/frontend/src/components/Detail/Sections/BottomComment.js"],"names":["React","useState","Space","Comment","Tooltip","Rate","List","Input","Button","Divider","moment","styled","Axios","BottomCommentDiv","div","TextArea","BottomComment","props","data","setData","comment","length","hideInput","onChangeStar","minRows","maxRows","onChangeCommentContent","onSaveComment","map","item","i","user","undefined","nickname","onModify","star","content","onDelete","masterId","modifyStatus","modifyIndex","commentContent","format"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\"\nimport { Space, Comment, Tooltip, Rate, List, Input, Button, Divider } from \"antd\"\nimport moment from \"moment\"\nimport styled from \"styled-components\"\nimport Axios from \"axios\"\n\nconst BottomCommentDiv = styled.div`\n  z-index: 10;\n  position: relative;\n  background: white;\n  .ant-space {\n    display: flex;\n    margin-bottom: 18px;\n    h3 {\n      margin-bottom: 0;\n    }\n    & + div {\n      display: flex;\n      button {\n        height: 98px;\n        margin-left: 16px;\n      }\n    }\n  }\n  .ant-comment {\n    button {\n      border: none;\n    }\n    button:hover, button:focus, button:active, button::after {\n      outline: none;\n      border: none;\n      box-shadow: none !important;\n      color: black;\n    }\n  }\n  .ant-comment-content-author {\n    display: flex;\n    align-items: center;\n    div {\n      ul {\n        margin-left: 10px;\n      }\n    }\n  }\n  .ant-comment-content-detail {\n    text-align: left;\n  }\n  .ant-comment-actions {\n    text-align: right;\n  }\n`\n\nconst { TextArea } = Input\n\nconst BottomComment = (props) => {\n  const [data, setData] = useState([])\n\n  return (\n    <BottomCommentDiv>\n      <Space>\n        <h3>댓글 ({props.comment.length})</h3>\n        { props.hideInput ?\n          <></>\n          :\n          <Rate onChange={props.onChangeStar} />\n        }\n      </Space>\n      { props.hideInput ?\n        <></>\n        :\n        <div>\n          <TextArea\n            autoSize={{ minRows: 4, maxRows: 4 }}\n            onChange={props.onChangeCommentContent}\n          />\n          <Button onClick={props.onSaveComment}>저장</Button>\n        </div>\n      }\n      <Divider />\n      <List\n        className=\"comment-list\"\n        itemLayout=\"horizontal\"\n        dataSource={props.comment}\n      >\n        {props.comment && props.comment.map((item, i) => (\n          <li key={i}>\n            <Comment\n              actions={props.user !== undefined && props.user.nickname === item.nickname\n                ?\n                [<Button onClick={() => props.onModify(i, item.star, item.content)}><span>수정</span></Button>, <Button onClick={() => props.onDelete(item.content, item.masterId, item.nickname, item.star)}><span>삭제</span></Button>]\n                : \"\"\n              }\n              author={item.nickname}\n              content={(\n              props.modifyStatus && i === props.modifyIndex ?\n                <TextArea\n                  autoSize={{ minRows: 4, maxRows: 4 }}\n                  onChange={props.onChangeCommentContent}\n                  value={props.modifyStatus && i === props.modifyIndex ? props.commentContent : item.content}\n                />\n                :\n                <p>{item.content}</p>\n              )}\n              datetime={(\n              <div>\n                <span>{moment().format('YYYY-MM-DD')}</span>\n                <Rate value={props.modifyStatus && i === props.modifyIndex ? props.star : item.star} disabled={props.modifyStatus && i === props.modifyIndex ? false : true} onChange={props.onChangeStar}/>\n              </div>\n              )}\n            />\n            <Divider />\n          </li>\n        ))}\n      </List>\n    </BottomCommentDiv>\n  )\n}\n\nexport default BottomComment\n"]},"metadata":{},"sourceType":"module"}