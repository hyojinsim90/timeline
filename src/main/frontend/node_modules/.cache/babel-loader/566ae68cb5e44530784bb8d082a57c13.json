{"ast":null,"code":"import _slicedToArray from\"C:/dev/springboot/workplace/tiltest3/src/main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"C:/dev/springboot/workplace/tiltest3/src/main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject;import React,{useState,useEffect}from\"react\";import{Table,Tag}from\"antd\";import styled from\"styled-components\";import Axios from\"axios\";import{useSelector}from\"react-redux\";import{Link}from\"react-router-dom\";import{DeleteOutlined}from\"@ant-design/icons\";import{jsx as _jsx}from\"react/jsx-runtime\";var TimelineListDiv=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  padding: 3rem 2rem;\\n  td {\\n    div {\\n      div {\\n        width: 100PX;\\n        height: 100PX;\\n        display: flex;\\n        justify-content: center;\\n        align-items: center;\\n      }\\n      img {\\n        width: 100px;\\n        height: 100px;\\n      }\\n    }\\n    .ant-empty {\\n      display: flex;\\n      flex-direction: column;\\n      align-items: center;\\n    }\\n  }\\n\"])));var TimelineList=function TimelineList(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),list=_useState2[0],setList=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),checkDelete=_useState4[0],setCheckDelete=_useState4[1];var columns=[{title:'이미지',dataIndex:'imgFullPath',key:'imgFullPath',render:function render(imgFullPath){return/*#__PURE__*/_jsx(\"div\",{children:imgFullPath?/*#__PURE__*/_jsx(\"img\",{src:imgFullPath}):/*#__PURE__*/_jsx(\"div\",{children:\"NO IMAGE\"})});}},{title:'제목',dataIndex:'title',key:'title'},{title:'분야',dataIndex:'category',key:'category'},{title:'진행여부',dataIndex:'complete',key:'complete',render:function render(complete){return/*#__PURE__*/_jsx(\"div\",{children:complete?/*#__PURE__*/_jsx(Tag,{color:\"mediumpurple\",children:\"\\uC9C4\\uD589\\uC644\\uB8CC\"}):/*#__PURE__*/_jsx(Tag,{color:\"skyblue\",children:\"\\uC9C4\\uD589\\uC911\"})});}},{title:'공개여부',dataIndex:'open',key:'open',render:function render(open){return/*#__PURE__*/_jsx(\"div\",{children:open?/*#__PURE__*/_jsx(Tag,{color:\"black\",children:\"\\uACF5\\uAC1C\"}):/*#__PURE__*/_jsx(Tag,{color:\"lightgray\",children:\"\\uBE44\\uACF5\\uAC1C\"})});}},{title:'조회수',dataIndex:'viewCount',key:'viewCount'},{title:'추천수',dataIndex:'likeCount',key:'likeCount'},{title:'생성일자',dataIndex:'createdDate',key:'createdDate',render:function render(date){return/*#__PURE__*/_jsx(\"div\",{children:date.substring(0,10)});}},{title:'삭제',dataIndex:'id',key:'id',render:function render(id){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(DeleteOutlined,{onClick:function onClick(e){return onDeleteTimeline(e,id);}})});}}];useEffect(function(){if(props.user.userData!==undefined&&props.user.userData.email!==undefined){Axios.get(\"/timeline/master/\".concat(props.user.userData.email)).then(function(res){if(res.data){setList(res.data);}});}},[props.user,checkDelete]);var onDeleteTimeline=function onDeleteTimeline(e,id){// onRow click event 실행 막기\ne.stopPropagation();Axios.delete(\"/timeline/\".concat(id)).then(function(res){if(res.status===200){alert(\"삭제되었습니다\");setCheckDelete(!checkDelete);}});};return/*#__PURE__*/_jsx(TimelineListDiv,{children:/*#__PURE__*/_jsx(Table,{columns:columns,dataSource:list,rowKey:function rowKey(list){return list.id;},pagination:false,onRow:function onRow(record,rowIndex){return{onClick:function onClick(){props.history.push(\"/timelinelist/\".concat(record.id));}};}})});};export default TimelineList;","map":{"version":3,"sources":["C:/dev/springboot/workplace/tiltest3/src/main/frontend/src/components/ManageTimeline/TimelineList.js"],"names":["React","useState","useEffect","Table","Tag","styled","Axios","useSelector","Link","DeleteOutlined","TimelineListDiv","div","TimelineList","props","list","setList","checkDelete","setCheckDelete","columns","title","dataIndex","key","render","imgFullPath","complete","open","date","substring","id","e","onDeleteTimeline","user","userData","undefined","email","get","then","res","data","stopPropagation","delete","status","alert","record","rowIndex","onClick","history","push"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\"\nimport { Table, Tag } from \"antd\"\nimport styled from \"styled-components\"\nimport Axios from \"axios\"\nimport { useSelector } from \"react-redux\"\nimport { Link } from \"react-router-dom\"\nimport { DeleteOutlined } from \"@ant-design/icons\"\n\nconst TimelineListDiv = styled.div`\n  padding: 3rem 2rem;\n  td {\n    div {\n      div {\n        width: 100PX;\n        height: 100PX;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n      }\n      img {\n        width: 100px;\n        height: 100px;\n      }\n    }\n    .ant-empty {\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n    }\n  }\n`\n\nconst TimelineList = (props) => {\n  const [list, setList] = useState([])\n  const [checkDelete, setCheckDelete] = useState(false)\n\n  const columns = [\n    {\n      title: '이미지',\n      dataIndex: 'imgFullPath',\n      key: 'imgFullPath',\n      render: imgFullPath => (\n        <div>\n          { imgFullPath ?\n            <img src={imgFullPath} />\n          :\n            <div>\n              NO IMAGE\n            </div>\n          }\n        </div>\n      )\n    },\n    {\n      title: '제목',\n      dataIndex: 'title',\n      key: 'title',\n    },\n    {\n      title: '분야',\n      dataIndex: 'category',\n      key: 'category',\n    },\n    {\n      title: '진행여부',\n      dataIndex: 'complete',\n      key: 'complete',\n      render: complete => (\n        <div>\n          { complete ?\n            <Tag color=\"mediumpurple\">진행완료</Tag>\n            :\n            <Tag color=\"skyblue\">진행중</Tag>\n          }\n        </div>\n      ),\n    },\n    {\n      title: '공개여부',\n      dataIndex: 'open',\n      key: 'open',\n      render: open => (\n        <div>\n          { open ?\n            <Tag color=\"black\">공개</Tag>\n            :\n            <Tag color=\"lightgray\">비공개</Tag>\n          }\n        </div>\n      )\n    },\n    {\n      title: '조회수',\n      dataIndex: 'viewCount',\n      key: 'viewCount',\n    },\n    {\n      title: '추천수',\n      dataIndex: 'likeCount',\n      key: 'likeCount',\n    },\n    {\n      title: '생성일자',\n      dataIndex: 'createdDate',\n      key: 'createdDate',\n      render: date => (\n        <div>\n          {date.substring(0, 10)}\n        </div>\n      )\n    },\n    {\n      title: '삭제',\n      dataIndex: 'id',\n      key: 'id',\n      render: (id) => (\n        <div>\n          <DeleteOutlined onClick={(e) => onDeleteTimeline(e, id)} />\n        </div>\n      )\n    },\n ]\n\n  useEffect(() => {\n    if(props.user.userData !== undefined && props.user.userData.email !== undefined) {\n      Axios.get(`/timeline/master/${props.user.userData.email}`)\n        .then(res => {\n          if(res.data) {\n            setList(res.data)\n          }\n        })\n    }\n  }, [props.user, checkDelete])\n\n  const onDeleteTimeline = (e, id) => {\n    // onRow click event 실행 막기\n    e.stopPropagation()\n\n    Axios.delete(`/timeline/${id}`)\n      .then(res => {\n        if(res.status === 200) {\n          alert(\"삭제되었습니다\")\n          setCheckDelete(!checkDelete)\n        }\n      })\n  }\n\n  return (\n    <TimelineListDiv>\n      <Table columns={columns} dataSource={list} rowKey={list => list.id} pagination={false}\n        onRow={(record, rowIndex) => {\n        return {\n          onClick: () => {\n            props.history.push(`/timelinelist/${record.id}`)\n          },\n        }\n      }}\n      />\n    </TimelineListDiv>\n  )\n}\n\nexport default TimelineList\n"]},"metadata":{},"sourceType":"module"}