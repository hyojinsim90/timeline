{"ast":null,"code":"var _jsxFileName = \"C:\\\\dev\\\\springboot\\\\workplace\\\\tiltest3\\\\src\\\\main\\\\frontend\\\\src\\\\components\\\\NavBar\\\\NavBar.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { BrowserView, MobileView } from \"react-device-detect\";\nimport { useSelector } from \"react-redux\";\nimport { useCookies } from \"react-cookie\";\nimport Axios from \"axios\";\nimport WebNavBar from \"./Sections/WebNavBar\";\nimport MobileNavBar from \"./Sections/MobileNavBar\";\nimport { useHistory } from \"react-router-dom\";\n\nconst NavBar = props => {\n  _s();\n\n  const [cookies, setCookie, removeCookie] = useCookies([]);\n  const [auth, setAuth] = useState(false);\n  const history = useHistory();\n  useEffect(() => {\n    if (cookies.tl_token !== undefined) {\n      setAuth(true);\n    }\n  }, [cookies]);\n\n  const onLogout = () => {\n    if (auth && cookies.tl_e) {\n      Axios.get(`/auth/logout/${cookies.tl_e}`).then(res => {\n        removeCookie(\"tl_e\");\n        removeCookie(\"tl_re\");\n        removeCookie(\"tl_exp\");\n        removeCookie(\"tl_token\");\n        setAuth(false);\n        window.location.reload();\n        history.push(\"/login\");\n      }).catch(err => {\n        removeCookie(\"tl_e\");\n        removeCookie(\"tl_re\");\n        removeCookie(\"tl_exp\");\n        removeCookie(\"tl_token\");\n        setAuth(false);\n        window.location.reload();\n        history.push(\"/\");\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(BrowserView, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(WebNavBar, {\n    auth: auth,\n    onLogout: onLogout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(MobileView, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(MobileNavBar, {\n    auth: auth,\n    onLogout: onLogout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  })));\n};\n\n_s(NavBar, \"yzPUMbf54AFewv0KRvtRD2r6aqI=\", false, function () {\n  return [useCookies, useHistory];\n});\n\n_c = NavBar;\nexport default NavBar;\n\nvar _c;\n\n$RefreshReg$(_c, \"NavBar\");","map":{"version":3,"sources":["C:/dev/springboot/workplace/tiltest3/src/main/frontend/src/components/NavBar/NavBar.js"],"names":["React","useState","useEffect","BrowserView","MobileView","useSelector","useCookies","Axios","WebNavBar","MobileNavBar","useHistory","NavBar","props","cookies","setCookie","removeCookie","auth","setAuth","history","tl_token","undefined","onLogout","tl_e","get","then","res","window","location","reload","push","catch","err"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,WAAT,EAAsBC,UAAtB,QAAwC,qBAAxC;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,sBAAtB;AACA,OAAOC,YAAP,MAAyB,yBAAzB;AACA,SAASC,UAAT,QAA2B,kBAA3B;;AAEA,MAAMC,MAAM,GAAIC,KAAD,IAAW;AAAA;;AACxB,QAAM,CAACC,OAAD,EAAUC,SAAV,EAAqBC,YAArB,IAAqCT,UAAU,CAAC,EAAD,CAArD;AACA,QAAM,CAACU,IAAD,EAAOC,OAAP,IAAkBhB,QAAQ,CAAC,KAAD,CAAhC;AAEA,QAAMiB,OAAO,GAAGR,UAAU,EAA1B;AAEAR,EAAAA,SAAS,CAAC,MAAM;AACd,QAAGW,OAAO,CAACM,QAAR,KAAqBC,SAAxB,EAAmC;AACjCH,MAAAA,OAAO,CAAC,IAAD,CAAP;AACD;AACF,GAJQ,EAIN,CAACJ,OAAD,CAJM,CAAT;;AAMA,QAAMQ,QAAQ,GAAG,MAAM;AACrB,QAAGL,IAAI,IAAIH,OAAO,CAACS,IAAnB,EAAyB;AACvBf,MAAAA,KAAK,CAACgB,GAAN,CAAW,gBAAeV,OAAO,CAACS,IAAK,EAAvC,EACGE,IADH,CACQC,GAAG,IAAI;AACXV,QAAAA,YAAY,CAAC,MAAD,CAAZ;AACAA,QAAAA,YAAY,CAAC,OAAD,CAAZ;AACAA,QAAAA,YAAY,CAAC,QAAD,CAAZ;AACAA,QAAAA,YAAY,CAAC,UAAD,CAAZ;AACAE,QAAAA,OAAO,CAAC,KAAD,CAAP;AACAS,QAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACAV,QAAAA,OAAO,CAACW,IAAR,CAAa,QAAb;AACD,OATH,EAUGC,KAVH,CAUSC,GAAG,IAAI;AACZhB,QAAAA,YAAY,CAAC,MAAD,CAAZ;AACAA,QAAAA,YAAY,CAAC,OAAD,CAAZ;AACAA,QAAAA,YAAY,CAAC,QAAD,CAAZ;AACAA,QAAAA,YAAY,CAAC,UAAD,CAAZ;AACAE,QAAAA,OAAO,CAAC,KAAD,CAAP;AACAS,QAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACAV,QAAAA,OAAO,CAACW,IAAR,CAAa,GAAb;AACD,OAlBH;AAmBD;AACF,GAtBD;;AAwBA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AAAW,IAAA,IAAI,EAAEb,IAAjB;AAAuB,IAAA,QAAQ,EAAEK,QAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,eAIE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,YAAD;AAAc,IAAA,IAAI,EAAEL,IAApB;AAA0B,IAAA,QAAQ,EAAEK,QAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAJF,CADF;AAUD,CA9CD;;GAAMV,M;UACuCL,U,EAG3BI,U;;;KAJZC,M;AAgDN,eAAeA,MAAf","sourcesContent":["import React, { useState, useEffect } from \"react\"\nimport { BrowserView, MobileView } from \"react-device-detect\"\nimport { useSelector } from \"react-redux\"\nimport { useCookies } from \"react-cookie\"\nimport Axios from \"axios\"\nimport WebNavBar from \"./Sections/WebNavBar\"\nimport MobileNavBar from \"./Sections/MobileNavBar\"\nimport { useHistory } from \"react-router-dom\"\n\nconst NavBar = (props) => {\n  const [cookies, setCookie, removeCookie] = useCookies([])\n  const [auth, setAuth] = useState(false)\n\n  const history = useHistory()\n\n  useEffect(() => {\n    if(cookies.tl_token !== undefined) {\n      setAuth(true)\n    }\n  }, [cookies])\n\n  const onLogout = () => {\n    if(auth && cookies.tl_e) {\n      Axios.get(`/auth/logout/${cookies.tl_e}`)\n        .then(res => {\n          removeCookie(\"tl_e\")\n          removeCookie(\"tl_re\")\n          removeCookie(\"tl_exp\")\n          removeCookie(\"tl_token\")\n          setAuth(false)\n          window.location.reload()\n          history.push(\"/login\")\n        })\n        .catch(err => {\n          removeCookie(\"tl_e\")\n          removeCookie(\"tl_re\")\n          removeCookie(\"tl_exp\")\n          removeCookie(\"tl_token\")\n          setAuth(false)\n          window.location.reload()\n          history.push(\"/\")\n        })\n    }\n  }\n\n  return(\n    <div>\n      <BrowserView>\n        <WebNavBar auth={auth} onLogout={onLogout} />\n      </BrowserView>\n      <MobileView>\n        <MobileNavBar auth={auth} onLogout={onLogout} />\n      </MobileView>\n    </div>\n  )\n}\n\nexport default NavBar;\n"]},"metadata":{},"sourceType":"module"}